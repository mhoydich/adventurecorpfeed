<!DOCTYPE html>
<html>
   <head>
      <meta charset="UTF-8">
      <!--  <link rel="icon" href="../favicon/" type="image/png">-->
      <title>VR Feed Experience</title>
      <!--<link href="../css/style.css" rel="stylesheet" type="text/css" media="screen" />-->
      <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
      <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
        <script src="https://unpkg.com/aframe-animation-component/dist/aframe-animation-component.min.js"></script>
    <script src="libs/hammer.js"></script>

    <script src="libs/Animation.js"></script>
    <script src="libs/AnimationHandler.js"></script>

        <script src="js/collada_animation.js"></script>
   </head>
   <style type="text/css">
     #audio_controls{
      z-index:3;
      position:absolute;
      font-size: 10pt;
     }
   </style>
   <body>
<!--<iframe src="https://open.spotify.com/embed?uri=spotify:track:5JunxkcjfCYcY7xJ29tLai"
        frameborder="0" allowtransparency="true"></iframe>-->
      <!-- **** A-SCENE **** -->
          <div id="audio_controls">
          <audio id="abrasive"   preload controls="true" >
            <source src="music/bensound-goinghigher.mp3"> 
            </source>
          </audio>
          <br>
          Music: <a href>http://www.bensound.com</a>
          </div>
      <a-scene vr-mode-ui="enabled: true" id="aframe_scene">
         <!-- IDEAS: 
        * Change sky color based on hour
        * Change sky texture


         -->

         <!-- *** ASSETS *** -->
         <a-assets>

         <img id="spotify1" src="sample_media/spotify/song1.png">
         <img id="spotify2" src="sample_media/spotify/song2.png">
         <img id="spotify3" src="sample_media/spotify/song3.png">
         <img id="spotify4" src="sample_media/spotify/song4.png">

         <img id="amazon1" src="sample_media/amazon/amazon1.png">
         <img id="amazon2" src="sample_media/amazon/amazon2.png">
         <img id="amazon3" src="sample_media/amazon/amazon3.png">
         <img id="amazon4" src="sample_media/amazon/amazon4.png">
         
         <img id="etsy1" src="sample_media/etsy/etsy1.png">
         <img id="etsy2" src="sample_media/etsy/etsy2.png">
         <img id="etsy3" src="sample_media/etsy/etsy3.png">
         <img id="etsy4" src="sample_media/etsy/etsy4.png">
         
         <img id="tweet1" src="sample_media/tweet/tweet1.png">
         <img id="tweet2" src="sample_media/tweet/tweet2.png">
         <img id="tweet3" src="sample_media/tweet/tweet3.png">
         <img id="tweet4" src="sample_media/tweet/tweet4.png">
         
         <img id="hypekills1" src="sample_media/hypekills/hypekills1.jpg">
         <img id="hypekills2" src="sample_media/hypekills/hypekills2.jpg">
         <img id="hypekills3" src="sample_media/hypekills/hypekills3.jpg">
         <img id="hypekills4" src="sample_media/hypekills/hypekills4.jpg">
         <img id="hypekills5" src="sample_media/hypekills/hypekills5.jpg">
         <img id="hypekills6" src="sample_media/hypekills/hypekills6.jpg">
         <img id="hypekills7" src="sample_media/hypekills/hypekills7.jpg">
         </a-assets>
         <a-entity position="0 0 -10" json-model="src:../models/json/mike_dancing.json" animation-mixer scale="1 1 1">
         </a-entity>
         <!-- ** AUDIO **-->
     

         <!-- *** CAMERAS *** -->
         <a-camera id="camera" position="0 3 0 " rotation="0 0 0 " fov="80" near="0.1" wasd-controls="enabled:false" >
            <!-- 
               <a-entity id="cursor" cursor="fuse: true; fuseTimeout: 400"
                  position="0 0 -3"
               
                  geometry="primitive: sphere; radius: 0.01;"
                  material="color: #aa0404; shader: flat"
                  raycaster="far: 2000; interval: 300; "
                  power="false">
                
                </a-entity>
               -->
         </a-camera>
         
         <!-- *** LIGHTS *** -->
         <a-light type="ambient" intensity="0.45" color="#ffffff"></a-light>
         <a-light type="point" intensity="0.15" position="-13 8 0"></a-light>
         <a-light type="point" intensity="0.15" position="13 8 0"></a-light>
         <a-light type="point" intensity="0.3" position="1 8 -7"></a-light>
         
         <!-- *** ENVIRONMENT *** -->
         <!-- ** GROUND** -->
         <a-plane id="ground" rotation="-90 0 0" position="0 -0.1 0" height="400" width="400" material="shader: flat;" color="#339b14"  ></a-plane>
        
        <!-- **PATHS** -->
         <a-plane id="pathZneg" rotation="-90 0 0 " position="0 0.1 -110" height="200" width="20" material="shader: flat;" color="#333" >
           <a-plane rotation="0 0 0 " position="-11.5 0 0" height="200" width="3" material="shader: flat;" color="#FFF" ></a-plane>
           <a-plane rotation="0 0 0 " position="11.5 0 0" height="200" width="3" material="shader: flat;" color="#FFF" ></a-plane>
         </a-plane>
        
         <a-plane id="pathZpos" rotation="-90 0 0 " position="0 0.1 110" height="200" width="20" material="shader: flat;" color="#333" >
           <a-plane rotation="0 0 0 " position="-11.5 0 0" height="200" width="3" material="shader: flat;" color="#FFF" ></a-plane>
           <a-plane rotation="0 0 0 " position="11.5 0 0" height="200" width="3" material="shader: flat;" color="#FFF" ></a-plane>
         </a-plane>
     
         <a-plane id="pathXpos" rotation="-90 90 0 " position="110 0.1 0" height="200" width="20" material="shader: flat;" color="#333" >
           <a-plane rotation="0 0 0 " position="-11.5 0 0" height="200" width="3" material="shader: flat;" color="#FFF" ></a-plane>
           <a-plane rotation="0 0 0 " position="11.5 0 0" height="200" width="3" material="shader: flat;" color="#FFF" ></a-plane>
         </a-plane>


         <a-plane id="pathXneg" rotation="-90 90 0 " position="-110 0.1 0" height="200" width="20" material="shader: flat;" color="#333" >
           <a-plane rotation="0 0 0 " position="-11.5 0 0" height="200" width="3" material="shader: flat;" color="#FFF" ></a-plane>
           <a-plane rotation="0 0 0 " position="11.5 0 0" height="200" width="3" material="shader: flat;" color="#FFF" ></a-plane>
         </a-plane>

         <a-plane id="pathXpos2" rotation="-90 90 0 " position="113 0.1 -50" height="200" width="20" material="shader: flat;" color="#333" >
           <a-plane rotation="0 0 0 " position="-11.5 0 0" height="200" width="3" material="shader: flat;" color="#FFF" ></a-plane>
           <a-plane rotation="0 0 0 " position="11.5 0 0" height="200" width="3" material="shader: flat;" color="#FFF" ></a-plane>
         </a-plane>
         <!-- start SQUARE-->
         <a-plane id="startPosition" rotation="-90" height="20" width="20" material="shader:flat" color="#AAA" position="0 0.1 0"></a-plane>
         <!--
         <a-plane id="path2" rotation="-90 90 0 " position="0 0.1 0" height="400" width="20" material="shader: flat;" color="#333" ></a-plane>
         <a-plane id="path_borders2" rotation="-90 90 0 " position="0 -0 0" height="400" width="26" material="shader: flat;" color="#444" ></a-plane>
         <a-plane id="path3" rotation="-90 90 0 " position="0 0.1 0" height="400" width="20" material="shader: flat;" color="#333" ></a-plane>
         <a-plane id="path_borders3" rotation="-90 90 0 " position="0 -0 0" height="400" width="26" material="shader: flat;" color="#444" ></a-plane>
        -->
        <!-- **AMBIENTS BUILDING-->
        <a-box position="150, 10 40" height="20" width="70" depth="40" color="#F22"> </a-box>


        <!-- **LOGIN PANELS**-->
        <!-- Spotify-->
    <a-plane id="spotify_panel" rotation="0 0 0" position="0 6.6 -10" height="1.5" width="5" material="shader: flat;" color="#FFF"  src="images/spotify_logo.png"
         animation="property: position; dir: alternate; dur: 1000; loop:true;
                           easing: easeInSine;  to: 0 6.8 -10"></a-plane>
    <a-plane id="twitter_panel" rotation="0 180 0" position="0 6.6 10" height="1.025" width="5.12" material="shader: flat;" color="#FFF"  src="images/twitter_logo.png"
         animation="property: position; dir: alternate; dur: 1000; loop:true;
                           easing: easeInSine;  to: 0 6.8 10"></a-plane>
    <a-plane id="amazon_panel" rotation="0 90 0" position="-10 6.6 0" height="1.025" width="5.12" material="shader: flat;" color="#FFF"  src="images/amazon_logo.png"
         animation="property: position; dir: alternate; dur: 1000; loop:true;
                           easing: easeInSine;  to: -10 6.8 0"></a-plane>
    <a-plane id="etsy_panel" rotation="0 -90 0" position="10 6.6 0" height="2.3" width="4" material="shader: flat;" color="#FFF"  src="images/etsy_logo.png"
         animation="property: position; dir: alternate; dur: 1000; loop:true;
                           easing: easeInSine;  to: 10 6.8 0"></a-plane>
    <!-- <a-plane id="hypekills_panel" rotation="0 90 0" position="-10 6.6 -50" height="2.3" width="4" material="shader: flat;" color="#FFF"  src="images/hypekills_logo.png"
         animation="property: position; dir: alternate; dur: 1000; loop:true;
                           easing: easeInSine;  to: -10 6.8 -50"></a-plane>-->

        <!-- **SKY** -->
         <a-sky color="#d8e7ff" radius="350"></a-sky>
         
      </a-scene>
      <script>

      var sceneEl = document.querySelector('a-scene');
      var scene = sceneEl.object3D;
      var cameraEl = document.querySelector('a-camera');
      var camera = cameraEl.object3D;
  
      var spotify_panel = document.querySelector("#spotify_panel").object3D;
      console.log(spotify_panel)
      loadCollada('models/avatars/uma/uma_avatar_matte.dae');
      autoAvatar();
      </script>
      <script src="js/change_sky.js"></script>
      <script src="js/feed_generator.js"></script>
      <script src="js/interactions.js"></script>
   </body>
</html>